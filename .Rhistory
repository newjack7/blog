fullDates <- fullDates %>%
mutate(word2 = case_when(
word2 == "january" ~ "01",
word2 == "february" ~ "02",
word2 == "march" ~ "03",
word2 == "april" ~ "04",
word2 == "may" ~ "05",
word2 == "june" ~ "06",
word2 == "july" ~ "07",
word2 == "august" ~ "08",
word2 == "september" ~ "09",
word2 == "october" ~ "10",
word2 == "november" ~ "11",
word2 == "december" ~ "12",
word2 == "jan" ~ "01",
word2 == "feb" ~ "02",
word2 == "mar" ~ "03",
word2 == "apr" ~ "04",
word2 == "may" ~ "05",
word2 == "jun" ~ "06",
word2 == "jul" ~ "07",
word2 == "aug" ~ "08",
word2 == "sep" ~ "09",
word2 == "oct" ~ "10",
word2 == "nov" ~ "11",
word2 == "dec" ~ "12",
word2 == "sept" ~ "09"
))
#Rename columns to year, month, day
fullDates <- fullDates %>% rename(day = word1, month = word2, year = word3)
#Create new column with date in correct format
fullDates <- fullDates %>% mutate(date = make_date(year, month, day))
#Merge fullDates table with the original text
fullDated <- left_join(lincsEvents, fullDates, by = "UUID")
#Finally I merge the converted regnal years, the calendar years, and allegations with precise dating to the original data which includes all allegations
yearsDated <- full_join(yearsCombined, fullDated)
lincsEventsDated <- left_join(yearsDated, lincsEvents, by = "UUID")
lincsEventsDated <- lincsEventsDated %>% select('UUID', 'lincsID', 'word.x', 'day', 'month', 'year', 'date', 'regnalYear')
lincsEventsDated <- lincsEventsDated %>% rename(word = word.x)
#mutate(change) regnal years to reflect whether the given date was regnal or specific.
lincsEventsDated <- lincsEventsDated %>% mutate(regnalYear = case_when(regnalYear == TRUE ~ "regnal", regnalYear == FALSE ~ "specific"))
lincsEventsDated <- lincsEventsDated %>% rename(dateType = regnalYear)
#Plot of regnal years and calendar years side-by-side
lincsEventsDated %>%
filter(!is.na(dateType)) %>%
filter(year %in%  c("1327", "1328", "1329", "1330", "1331", "1332", "1333", "1334", "1335", "1336", "1337", "1338", "1339", "1340", "1341")) %>%
count(year, dateType, sort=TRUE)  %>%
ggplot(aes(year, n)) +
geom_col(fill="#ffd700", position = "dodge") +
geom_text(aes(label=n), hjust=0.3, size=3.5) +
ggtitle("Dating Type in 'The 1341 Royal Inquest in Lincolnshire' c. 1327-1341") +
ylab(NULL) +
xlab(NULL) +
facet_wrap(. ~dateType) +
coord_flip() +
theme_minimal()
#Plot of regnal years and calendar years side-by-side
lincsEventsDated %>%
filter(!is.na(dateType)) %>%
filter(year %in%  c("1327", "1328", "1329", "1330", "1331", "1332", "1333", "1334", "1335", "1336", "1337", "1338", "1339", "1340")) %>%
count(year, sort=TRUE)  %>%
ggplot(aes(year, n)) +
geom_col(fill="#ffd700", position = "dodge") +
geom_text(aes(label=n), hjust=0.3, size=3.5) +
ggtitle("The 1341 Lincolnshire Royal Inquest, c. 1327-1341: allegations per year") +
ylab(NULL) +
xlab(NULL) +
#coord_flip() +
theme_minimal()
#Convert Year into a factor
lincsEventsDated$year <- factor(lincsEventsDated$year)
#Plot
lincsEventsDated %>% count(date, year, sort=TRUE) %>%
ggplot(aes(date)) +
geom_histogram(fill="#ffd700", binwidth = 35) +
ggtitle("Dates mentioned in McLane, 'The 1341 Royal Inquest in Lincolnshire' c. 1327-1341")+
ylab(NULL) +
xlab(NULL) +
theme_minimal()
#I did have each year labelled on the x axis but I broke it somehow. If you know how to fix it please tell me!
lincsEventsDated %>%
filter(!word %in% "Notice that") %>%
filter(!is.na(dateType)) %>%
filter(year %in%  c("1327", "1328", "1329", "1330", "1331", "1332", "1333", "1334", "1335", "1336", "1337", "1338", "1339", "1340")) %>%
count(year, sort=TRUE)
view(lincsEventsDated )
#Create Woolthorpe data frame from the vector of IDs
woolsthorpeDF <-  lincsEventsDated %>%
group_by(lincsID) %>%
filter(all(lincsID %in% woolsthorpeIDS))
woolsthorpeDF <- semi_join(lincsEventsDated, woolsthorpeDF, by = 'lincsID')
woolsthorpeDFTest <- woolsthorpeDF
woolsthorpeDFTest[1:5,6] <- "1339"
woolsthorpeDFTest[11:23,7] <- "1337-09-12"
woolsthorpeDFTest[11:23,7] <- as.date("1337-09-12")
woolsthorpeDFTest[11:23,7] <- ymd("1337-09-12")
View(lincsOCR)
View(lincsEvents)
View(lincsEventsTokens)
View(regYears)
View(regYears_united)
View(regYears_converted)
View(regnalTagged)
View(yearsCombined)
View(fullDates)
View(yearsDated)
View(lincsEventsDated)
woolsthorpeDF <- left_join(lincsEventsDated, woolsthorpeDF, by = 'lincsID')
#Create Woolthorpe data frame from the vector of IDs
woolsthorpeDF <-  lincsEventsDated %>%
group_by(lincsID) %>%
filter(all(lincsID %in% woolsthorpeIDS))
woolsthorpeDF <- left_join(lincsEventsDated, woolsthorpeDF, by = 'lincsID')
woolsthorpeDFTest <- woolsthorpeDF
woolsthorpeDF <- inner_join(lincsEventsDated, woolsthorpeDF, by = 'lincsID')
woolsthorpeDFTest <- woolsthorpeDF
#Create Woolthorpe data frame from the vector of IDs
woolsthorpeDF <-  lincsEventsDated %>%
group_by(lincsID) %>%
filter(all(lincsID %in% woolsthorpeIDS))
View(woolsthorpeDF)
woolsthorpeDF <- semi_join(lincsEventsDated, woolsthorpeDF, by = 'UUID')
woolsthorpeDFTest <- woolsthorpeDF
View(woolsthorpeDFTest)
woolsthorpeDFTest[1:5,6] <- "1339"
woolsthorpeDFTest[11:23,7] <- ymd("1337-09-12")
woolsthorpeDFTest[25:38,6] <- "1337"
woolsthorpeDFTest[41:49,6] <- "1338"
woolsthorpeDFTest[51,6] <- "1338"
woolsthorpeDFTest[53,7] <- ymd("1338-07-28")
woolsthorpeDFTest[55,6] <- "1337"
woolsthorpeDFTest[74:80,6] <- "1338"
woolsthorpeDFTest[82:83,6] <- "1339"
woolsthorpeDFTest[86,6] <- "1338"
woolsthorpeDFTest[89,6] <- "1338"
woolsthorpeDFTest[90,6] <- "1334"
View(tichwellDFTest)
woolsthorpeDFTest <-  woolsthorpeDFTest %>%  mutate(year = y(dateType))
#plot of Tichwell data frame
woolsthorpeDFTest %>%
#filter(!is.na(dateType)) %>%
filter(year %in%  c("1327", "1328", "1329", "1330", "1331", "1332", "1333", "1334", "1335", "1336", "1337", "1338", "1339", "1340", "1341")) %>%
count(year, sort=TRUE)  %>%
ggplot(aes(year, n)) +
geom_col(fill="#ffd700", position = "dodge") +
geom_text(aes(label=n), hjust=0.3, size=3.5) +
ggtitle("Dateable Allegations against Roger Woolsthorpe c. 1327-1341")+
ylab(NULL) +
xlab(NULL) +
coord_flip() +
theme_minimal()
dunstapleV <- c("Dunstable (Dunstapel, Dunstapil, Dunstaple), Thomas de, brother and deputy of William de Dunstable and victualler, xii, 8, 10, 11, 18, 19, 32, 46, 83, 84, 86, 185, 207, 214, 216, 221, 226, 229, 243, 248,251, 264,265, 269,292,294, 309,317, 318, 356-58, 360, 379, 380, 388-97, 909; deputies (named) of, 21, 32, 128, 320, 413, 415, 423, 459, 461, 472, 869, 902, 903, 924 Dunstable (Dunstapel, Dunstapil, Dunstaple), William de, brother of Thomas de Dunstable and victualler, 8, 46, 83; deputies (named) of, 8, 46, 84, 85, 189, 292, 307, 308, 356, 379, 670, 672, 679, 868, 945, 961, 962, 995, 1019, 1020")
dunstapleIDS <- c(8, 10, 11, 18, 19, 32, 46, 83, 84, 86, 185, 207, 214, 216, 221, 226, 229, 243, 248,251, 264,265, 269,292,294, 309,317, 318, 356:58, 360, 379, 380, 388:97, 909, 21, 32, 128, 320, 413, 415, 423, 459, 461, 472, 869, 902, 903, 924)
dunstapleIDS <- c(8, 10, 11, 18, 19, 32, 46, 83, 84, 86, 185, 207, 214, 216, 221, 226, 229, 243, 248,251, 264,265, 269,292,294, 309,317, 318, 356:58, 360, 379, 380, 388:97, 909, 21, 32, 128, 320, 413, 415, 423, 459, 461, 472, 869, 902, 903, 924)
#Create dunstable data frame from the vector of IDs
dunstableDF <-  lincsEventsDated %>%
group_by(lincsID) %>%
filter(all(lincsID %in% woolsthorpeIDS))
dunstableDF <- semi_join(lincsEventsDated, dunstableDF, by = 'UUID')
dunstableDFTest <- dunstableDF
View(dunstableDFTest)
#Create dunstable data frame from the vector of IDs
dunstableDF <-  lincsEventsDated %>%
group_by(lincsID) %>%
filter(all(lincsID %in% dunstapleIDS))
dunstableDF <- semi_join(lincsEventsDated, dunstableDF, by = 'UUID')
dunstableDFTest <- dunstableDF
dunstapleIDS <- c(8, 10, 11, 18, 19, 32, 46, 83, 84, 86, 185, 207, 214, 216, 221, 226, 229, 243, 248,251, 264,265, 269,292,294, 309,317, 318, 356:358, 360, 379, 380, 388:397, 909, 21, 32, 128, 320, 413, 415, 423, 459, 461, 472, 869, 902, 903, 924)
#Create dunstable data frame from the vector of IDs
dunstableDF <-  lincsEventsDated %>%
group_by(lincsID) %>%
filter(all(lincsID %in% dunstapleIDS))
dunstableDF <- semi_join(lincsEventsDated, dunstableDF, by = 'UUID')
dunstableDFTest <- dunstableDF
dunstableDFTest[4:7,6] <- "1338"
dunstableDF <- semi_join(fullDated, dunstableDF, by = 'UUID')
dunstableDFTest <- dunstableDF
#Create dunstable data frame from the vector of IDs
dunstableDF <-  fullDated %>%
group_by(lincsID) %>%
filter(all(lincsID %in% dunstapleIDS))
lincsEventsDated
#Create dunstable data frame from the vector of IDs
dunstableDF <-  lincsEventsDated %>%
group_by(lincsID) %>%
filter(all(lincsID %in% dunstapleIDS))
dunstableDF <- semi_join(lincsEventsDated, dunstableDF, by = 'UUID')
dunstableDFTest <- dunstableDF
View(dunstableDFTest)
dunstableIDS
dunstapleIDS
dunstableDFTest[4:5,6] <- "1338"
dunstableDFTest[13:16,6] <- "1337"
dunstableDFTest[18:19,6] <- "1337"
dunstableDFTest[30,6] <- "1338"
dunstableDFTest[67,6] <- "1338"
dunstableDFTest[74:75,6] <- "1337"
dunstableDFTest[77:85,6] <- "1338"
dunstableDFTest <- dunstableDFTest[-38:65, ]
dunstableDFTest <- dunstableDFTest[-c(38:65), ]
dunstableDFTest %>%
#filter(!is.na(dateType)) %>%
filter(year %in%  c("1327", "1328", "1329", "1330", "1331", "1332", "1333", "1334", "1335", "1336", "1337", "1338", "1339", "1340", "1341")) %>%
count(year, sort=TRUE)  %>%
ggplot(aes(year, n)) +
geom_col(fill="#ffd700", position = "dodge") +
geom_text(aes(label=n), hjust=0.3, size=3.5) +
ggtitle("Dateable Allegations against Roger Woolsthorpe c. 1327-1341")+
ylab(NULL) +
xlab(NULL) +
coord_flip() +
theme_minimal()
dunstableDFTest %>%
#filter(!is.na(dateType)) %>%
filter(year %in%  c("1327", "1328", "1329", "1330", "1331", "1332", "1333", "1334", "1335", "1336", "1337", "1338", "1339", "1340", "1341")) %>%
count(year, sort=TRUE)  %>%
ggplot(aes(year, n)) +
geom_col(fill="#ffd700", position = "dodge") +
geom_text(aes(label=n), hjust=0.3, size=3.5) +
ggtitle("Dateable Allegations against Thomas Dunstaple c. 1327-1341")+
ylab(NULL) +
xlab(NULL) +
coord_flip() +
theme_minimal()
dunstableDFTest <- dunstableDFTest %>% mutate(person = Thomas Dunstaple)
dunstableDFTest <- dunstableDFTest %>% mutate(person = "Thomas Dunstaple")
woolsthorpeDFTest <- woolsthorpeDFTest %>% mutate(person = "Roger Woolsthorpe")
#plot of Tichwell data frame
woolsthorpeDFTest %>%
#filter(!is.na(dateType)) %>%
filter(year %in%  c("1327", "1328", "1329", "1330", "1331", "1332", "1333", "1334", "1335", "1336", "1337", "1338", "1339", "1340", "1341")) %>%
count(year, sort=TRUE)  %>%
ggplot(aes(year, n)) +
geom_col(fill="#ffd700", position = "dodge") +
geom_text(aes(label=n), hjust=0.3, size=3.5) +
ggtitle("Dateable Allegations against Roger Woolsthorpe c. 1327-1341")+
ylab(NULL) +
xlab(NULL) +
coord_flip() +
theme_minimal()
tichwellDFTest <- tichwellDFTest %>% mutate(person = "Henry Tichwell")
#add column as tag for Henry allegations
gilbertDF <- gilbertDF %>% mutate(person = "Gilbert Leatherhead")
#plot of Gilbert data frame
gilbertDF %>%
#filter(!is.na(dateType)) %>%
filter(year %in%  c("1327", "1328", "1329", "1330", "1331", "1332", "1333", "1334", "1335", "1336", "1337", "1338", "1339", "1340", "1341")) %>%
count(year, sort=TRUE)  %>%
ggplot(aes(year, n)) +
geom_col(fill="#ffd700", position = "dodge") +
geom_text(aes(label=n), hjust=0.3, size=3.5) +
ggtitle("Dateable Allegations against Gilbert Ledred c. 1327-1341")+
ylab(NULL) +
xlab(NULL) +
coord_flip() +
theme_minimal()
View(gilbertDF)
table1 <- full_join(gilbertDF, tichwellDFTest)
View(table1)
table2 <- full_join(dunstableDFTest, woolsthorpeDFTest)
gangOfFourFinal <- full_join(table1, table2)
View(gangOfFourFinal)
gangOfFourFinal %>%
#filter(!is.na(dateType)) %>%
filter(year %in%  c("1327", "1328", "1329", "1330", "1331", "1332", "1333", "1334", "1335", "1336", "1337", "1338", "1339", "1340", "1341")) %>%
count(year, sort=TRUE)  %>%
ggplot(aes(year, n)) +
geom_col(fill="#ffd700", position = "dodge") +
geom_text(aes(label=n), hjust=0.3, size=3.5) +
ggtitle("Dateable Allegations against Thomas Dunstaple c. 1327-1341")+
ylab(NULL) +
xlab(NULL) +
coord_flip() +
theme_minimal()
gangOfFourFinal %>%
#filter(!is.na(dateType)) %>%
filter(year %in%  c("1327", "1328", "1329", "1330", "1331", "1332", "1333", "1334", "1335", "1336", "1337", "1338", "1339", "1340", "1341")) %>%
count(year, sort=TRUE)  %>%
ggplot(aes(year, n)) +
geom_col(fill="#ffd700", position = "dodge") +
geom_text(aes(label=n), hjust=0.3, size=3.5) +
ggtitle("Dateable Allegations against Thomas Dunstaple c. 1327-1341")+
ylab(NULL) +
xlab(NULL) +
coord_flip() +
facet_wrap(person)+
theme_minimal()
gangOfFourFinal %>%
#filter(!is.na(dateType)) %>%
filter(year %in%  c("1327", "1328", "1329", "1330", "1331", "1332", "1333", "1334", "1335", "1336", "1337", "1338", "1339", "1340", "1341")) %>%
count(year, sort=TRUE)  %>%
ggplot(aes(year, n)) +
geom_col(fill="#ffd700", position = "dodge") +
geom_text(aes(label=n), hjust=0.3, size=3.5) +
ggtitle("Dateable Allegations against Thomas Dunstaple c. 1327-1341")+
ylab(NULL) +
xlab(NULL) +
coord_flip() +
facet_wrap(. ~person)+
theme_minimal()
gangOfFourFinal %>%
#filter(!is.na(dateType)) %>%
filter(year %in%  c("1327", "1328", "1329", "1330", "1331", "1332", "1333", "1334", "1335", "1336", "1337", "1338", "1339", "1340", "1341")) %>%
count(year, sort=TRUE)  %>%
ggplot(aes(year, n)) +
geom_col(fill="#ffd700", position = "dodge") +
geom_text(aes(label=n), hjust=0.3, size=3.5) +
ggtitle("Dateable Allegations against Thomas Dunstaple c. 1327-1341")+
ylab(NULL) +
xlab(NULL) +
facet_wrap(. ~person)+
coord_flip() +
theme_minimal()
gangOfFourFinal %>%
#filter(!is.na(dateType)) %>%
filter(year %in%  c("1327", "1328", "1329", "1330", "1331", "1332", "1333", "1334", "1335", "1336", "1337", "1338", "1339", "1340", "1341")) %>%
count(year, person, sort=TRUE)  %>%
ggplot(aes(year, n)) +
geom_col(fill="#ffd700", position = "dodge") +
geom_text(aes(label=n), hjust=0.3, size=3.5) +
ggtitle("Dateable Allegations against Thomas Dunstaple c. 1327-1341")+
ylab(NULL) +
xlab(NULL) +
facet_wrap(. ~person)+
coord_flip() +
theme_minimal()
gangOfFourFinal %>%
#filter(!is.na(dateType)) %>%
filter(year %in%  c("1327", "1328", "1329", "1330", "1331", "1332", "1333", "1334", "1335", "1336", "1337", "1338", "1339", "1340", "1341")) %>%
count(year, person, sort=TRUE)  %>%
ggplot(aes(year, n)) +
geom_col(fill="#ffd700", position = "dodge") +
geom_text(aes(label=n), hjust=0.3, size=3.5) +
ggtitle("Dateable Allegations against four most prominent offenders in JUST 1/521 c. 1327-1341")+
ylab(NULL) +
xlab(NULL) +
facet_wrap(. ~person)+
coord_flip() +
theme_minimal()
gangOfFourFinal %>%
#filter(!is.na(dateType)) %>%
filter(year %in%  c("1327", "1328", "1329", "1330", "1331", "1332", "1333", "1334", "1335", "1336", "1337", "1338", "1339", "1340", "1341")) %>%
count(year, person, sort=TRUE)  %>%
ggplot(aes(year, n)) +
geom_col(fill="#ffd700", position = "dodge") +
geom_text(aes(label=n), hjust=0.3, size=3.5) +
ggtitle("Dateable Allegations against select offenders in JUST 1/521 c. 1327-1341")+
ylab(NULL) +
xlab(NULL) +
facet_wrap(. ~person)+
coord_flip() +
theme_minimal()
knitr::opts_chunk$set(echo = TRUE)
gangOfFourFinal %>%
#filter(!is.na(dateType)) %>%
filter(year %in%  c("1327", "1328", "1329", "1330", "1331", "1332", "1333", "1334", "1335", "1336", "1337", "1338", "1339", "1340", "1341")) %>%
count(year, person, sort=TRUE)  %>%
ggplot(aes(year, n)) +
geom_col(fill="#ffd700", position = "dodge") +
geom_text(aes(label=n), hjust=0.3, size=3.5) +
ggtitle("Dateable Allegations against select offenders c. 1327-1341")+
ylab(NULL) +
xlab(NULL) +
facet_wrap(. ~person)+
coord_flip() +
theme_minimal()
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(tidytext)
gangOfFourFinal %>%
#filter(!is.na(dateType)) %>%
filter(year %in%  c("1327", "1328", "1329", "1330", "1331", "1332", "1333", "1334", "1335", "1336", "1337", "1338", "1339", "1340", "1341")) %>%
count(year, person, sort=TRUE)  %>%
ggplot(aes(year, n)) +
geom_col(fill="#ffd700", position = "dodge") +
geom_text(aes(label=n), hjust=0.3, size=3.5) +
ggtitle("Dateable Allegations against select offenders c. 1327-1341")+
ylab(NULL) +
xlab(NULL) +
facet_wrap(. ~person)+
coord_flip() +
theme_minimal()
#setwd("C:/Users/Jack/Documents/GitHub/blog")
#load(".Rdata")
library(tidyverse)
library(lubridate)
library(spacyr)
library(tif)
library(reticulate)
#library(quanteda)
spacy_initialize()
library(tidyverse)
library(tidytext)
library(readr)
burghersh_vol1_index <- read_csv("Lincolnshire csv Data/burghersh vol1 index.csv")
View(burghersh_vol1_index)
library(readr)
McLane_index <- read_csv("Lincolnshire csv Data/McLane index.csv")
View(McLane_index)
library(readr)
burghersh_vol1_index <- read_csv("Lincolnshire csv Data/burghersh vol1 index.csv", header = FALSE)
library(readr)
burghersh_vol1_index <- read_csv(file = "Lincolnshire csv Data/burghersh vol1 index.csv", header = FALSE)
library(readr)
McLane_index <- read_csv("Lincolnshire csv Data/McLane index.csv",
col_names = FALSE)
View(McLane_index)
View(burghersh_vol1_index)
library(readr)
burghersh_vol1_index <- read_csv("Lincolnshire csv Data/burghersh vol1 index.csv",
col_names = FALSE)
View(burghersh_vol1_index)
inquestIndex <- McLane_index
registerIndex <- burghersh_vol1_index
View(inquestIndex)
inquestTokens <- inquestIndex %>%  unnest_tokens(bigram, X1,"words", n = 2)
inquestTokens <- inquestIndex %>%  unnest_tokens(bigram, X1,"ngrams", n = 2)
View(inquestTokens)
#Filter for stop words
inquestStopped <- inquestIndex %>% anti_join(stop_words)
View(stop_words)
#Filter for stop words
inquestIndex <- inquestIndex %>% rename(word = X1)
inquestStopped <- inquestIndex %>% anti_join(stop_words)
#filter for digits
inquestStopped<- inquestStopped %>% filter(grepl('^\\D', word))
View(inquestStopped)
#Unnest to bigrams
inquestStopped <- inquestStopped %>%  unnest_tokens(bigram, X1,"ngrams", n = 2)
#Unnest to bigrams
inquestStopped <- inquestStopped %>%  unnest_tokens(bigram, word,"ngrams", n = 2)
#filter for digits
inquestStopped<- inquestStopped %>% filter(grepl('^\\D', word))
#Unnest to bigrams
inquestStopped <- inquestStopped %>%
unnest_tokens(bigram, word,"ngrams", n = 2)
inquestIndex <- McLane_index
registerIndex <- burghersh_vol1_index
inquestIndex <- inquestIndex %>% rename(word = X1)
#Filter for stop words
inquestStopped <- inquestIndex %>% anti_join(stop_words)
#Unnest to bigrams
inquestStopped <- inquestStopped %>%
unnest_tokens(bigram, word,"ngrams", n = 2) %>%
separate(bigram, c("word1", "word2"), sep = " ") %>%
filter(grepl('^\\D', word1)) %>%
filter(grepl('^\\D', word2))
#Split for cleaning
#filter for digits
inquestStopped<- inquestStopped %>%
filter(grepl('^\\D', word))
View(inquestStopped)
#Unnest to bigrams
inquestStopped <- inquestStopped %>%
unnest_tokens(bigram, word,"ngrams", n = 2) %>%
separate(bigram, c("word1", "word2"), sep = " ") %>%
filter(grepl('^\\D', word1)) %>%
filter(grepl('^\\D', word2)) %>%
filter(!word1 %in% stop_words$word,
!word2 %in% stop_words$word)
inquestIndex <- McLane_index
registerIndex <- burghersh_vol1_index
inquestIndex <- inquestIndex %>% rename(word = X1)
#Filter for stop words
inquestStopped <- inquestIndex %>% anti_join(stop_words)
#Unnest to bigrams
inquestStopped <- inquestStopped %>%
unnest_tokens(bigram, word,"ngrams", n = 2) %>%
separate(bigram, c("word1", "word2"), sep = " ") %>%
filter(grepl('^\\D', word1)) %>%
filter(grepl('^\\D', word2)) %>%
filter(!word1 %in% stop_words$word, !word2 %in% stop_words$word)
#Split for cleaning
#filter for digits
#inquestStopped<- inquestStopped %>%
# filter(grepl('^\\D', word))
View(inquestStopped)
inquestStopped <- inquestStopped %>%
filter(grepl('qv', word1)) %>%
filter(grepl('qv', word2))
#Unnest to bigrams
inquestStopped <- inquestStopped %>%
unnest_tokens(bigram, word,"ngrams", n = 2) %>%
separate(bigram, c("word1", "word2"), sep = " ") %>%
filter(grepl('^\\D', word1)) %>%
filter(grepl('^\\D', word2)) %>%
filter(!word1 %in% stop_words$word, !word2 %in% stop_words$word)
inquestIndex <- McLane_index
inquestIndex <- inquestIndex %>% rename(word = X1)
#Filter for stop words
inquestStopped <- inquestIndex %>% anti_join(stop_words)
#Unnest to bigrams
inquestStopped <- inquestStopped %>%
unnest_tokens(bigram, word,"ngrams", n = 2) %>%
separate(bigram, c("word1", "word2"), sep = " ") %>%
filter(grepl('^\\D', word1)) %>%
filter(grepl('^\\D', word2)) %>%
filter(!word1 %in% stop_words$word, !word2 %in% stop_words$word)
View(inquestStopped)
#make custom stop words
custom_stop <- tribble(~word, ~lexicon,
"q.v", "CUSTOM",
"de", "CUSTOM",
)
custom_stop <- stop_words %>% bind_rows(custom_stop)
#Unnest to bigrams and clean for digits and stop words
inquestStopped <- inquestIndex %>%
unnest_tokens(bigram, word,"ngrams", n = 2) %>%
separate(bigram, c("word1", "word2"), sep = " ") %>%
filter(grepl('^\\D', word1)) %>%
filter(grepl('^\\D', word2)) %>%
filter(!word1 %in% custom_stop$word, !word2 %in% custom_stop$word)
